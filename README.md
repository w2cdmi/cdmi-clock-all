# 产品说明

时间管理器是一款闹钟定时器，具备日程时刻管理，到时闹铃提醒功能。该软件将有效的监控用户的每日时间利用情况，帮助用户建立时间管理观念。

# 面向客户和场景

该产品的主要客户为有孩子的家长以及公司职员。面对家长，该产品可以有效的解决家庭生活中的家务事情处理和学生时间管理；对于公司职员，使用该产品可以有效的管理每日事务的执行，自动生成工作日报或周报。

## 场景1：家务事时间管理

家长可以通过微信小程序设置亲友的生日，每月的银行还款，每周的家庭卫生打扫，每天的孩子接送时间提醒，每顿做饭菜时间等，以及各类临时事务的提醒。时间规划的设置方式可以是语音方式，可以是文字。

## 场景2：孩子学习运动时间管理

家长可以为孩子设置每天的时间安排，如几点起床，几点刷牙，几点运动，几点看书，几点练字.......。帮助孩子树立良好的时间观念，避免拖沓性格的养成。

## 场景3：办公日程管理

公司职员可以通过导入自己的工作日程，随时语音添加临时事务，除了到点提醒外，还可以帮助生成工作日报和周报。

# 产品特点

## 软硬分离

用户可以仅使用软件设置工作计划，与自己的天猫精灵音箱或小度智能音箱绑定获取到时通知。

## 循序渐进式的时间观念培养

通过时间利用率以及时间利用粒度分析，采用升级制对用户进行时间管理的鼓励。让时间管理观念沁入每个人的生命。

## 便捷又善解人意的时间陪伴机器人

通过专有的时间管理器音箱帮助用户进行更便捷的时间管理行为培训。支持更细粒度的任务安排以及劳逸结合提醒。

# 一期功能需求

- 支持通过微信小程序设置日程安排，支持设备端的语音设置日程。
- 支持在设备端以按键方式设置倒计时提醒。
- 支持微信小程序方式配置设备的WIFI网络，支持设备的自动网络链接。
- 支持通过微信小程序设置多个场景的日程安排（如工作场景/学习场景/生活模式）
- 支持小程序绑定WIFI打印机，打印指定场景下的日程安排。
- 支持指定场景下日报，周报的自动生成，邮件导出。
- 支持响铃和微信推送消息提醒。
- 响铃过程中，按设备上任意按键皆可停止响铃（最低响铃时间2秒，以避免因为正在做的操作导致响铃未发生）。
- 支持通过微信小程序标注任务是否执行或在既定时间内完成
- 支持对计划完成进行评估，对每日时间利用情况和时间规划粒度进行打分。
- 提供时间利用达人等级制度，鼓励督促用户进行更好的时间管理。
- 支持每日激励语言的显示和播放以及劳逸结合的提醒。
- 优秀达人展示（展示其时间管理水平/展示其才能和艺术）
- 支持百度Dueros开发平台/天猫精灵对接。
- 用户制定的日程计划可以同步到小度音箱和天猫精灵音箱中。

# 一期产品规格

# 一期模块设计

## 小程序模块

### 用户端

#### 首页

时间利用率统计（已安排5天计划）安排截止日/  尚未设置休息时间/时间规划率

显示时间管理场景Banner，有工作场景示例，有家庭生活场景示例，有学习场景示例。

针对学习场景按照小学，初中 / 高中 / 大学 存在多种场景示例。显示每个场景的时间利用率。

支持示例场景的导入

#### 提醒

根据时刻显示已完成或待进行的需要提醒的事务（未完成未开始的致提醒时间间隔/已完成的用时超过分钟数）

#### 日历/日显示/月显示

通过日历方式显示已安排的任务和已完成的任务。

提供日计划复制，周计划自动延续。

#### 创建单次事项/创建日计划/创建周计划

用户可以创建单次事项，也可以创建日计划，周计划。

#### 设置

显示当前微信登录用户的个人信息，如头像，账号名，时间达人等级。

支持时间场景切换以及添加新的时间管理场景

设置每日休息时间

不统计时间设置---上学/上班

播音员选择

### 管理端

- 管理员登录
  - 系统初始化后，登录小程序后出现管理员绑定页面，读取管理员微信名称和电话，完成绑定。
- 用户统计
  - 查看当前平台中的每日/每周/每月新增用户数量以及总的用户数量
  - 查看用户每日/每周/每月平均任务事项数量
- 终端统计
  - 查看当前平台每日/每周/每月新增用户数量以及总的终端数量
- 示例场景
  - 添加示例场景
  - 添加示例场景分类
  - 调整示例场景/编辑信息
- 语音管理
  - 应用开启提示音语音设置
  - 任务设置成功语音提示设置
  - 任务设置失败语音提示音设置
  - 计时到达提示语音设置
  - 任务延迟完成语音提示设置
  - 任务提前完成语音提示设置
  - 提示音（童音/男生/女生）设置
- 服务配置
  - Dueros开发平台配置信息
  - 天猫精灵服务平台配置信息

# 接口设计

## 用户侧接口

### 注册一个时间管理器微信用户

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

| 参数 | 类型 | 说明 | 约束 |
| ---- | ---- | ---- | ---- |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |

响应：

Http Status : 200，返回内容格式：JSON

响应体说明：

| 字段名 | 类型 | 含义 | 说明 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

### 获取应用的指定用户信息

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

| 参数 | 类型 | 说明 | 约束 |
| ---- | ---- | ---- | ---- |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |

响应：

Http Status : 200，返回内容格式：JSON

响应体说明：

| 字段名 | 类型 | 含义 | 说明 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

### 获取指定用户的时间管理场景列表

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

| 参数 | 类型 | 说明 | 约束 |
| ---- | ---- | ---- | ---- |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |

响应：

Http Status : 200，返回内容格式：JSON

响应体说明：

| 字段名 | 类型 | 含义 | 说明 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

### 用户创建新的时间管理场景

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 用户创建新的事项安排

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取用户自己的事项安排列表

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 编辑用户自己的特定事项安排

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取用户自己的提醒事项列表

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取示例场景分类列表

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取示例场景列表

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 查看指定场景事项安排详情

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 设置用户自己的不统计时间

说明：不统计时间包含休息时间，上课时间，乘车时间等，设置不统计时间后，不统计时间段内不能添加事情安排。

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取用户自己的不统计时间

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取用户时间场景的统计信息

说明：包含时间规划率与利用率

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 导入示例安排到用户

说明：包含时间规划率与利用率

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

## 管理侧接口

### 添加一个管理员用户

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求参数：

### 补充管理员用户信息

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取指定管理员用户信息

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取用户增长统计

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取终端增长统计

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 添加一个示例时间管理场景

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 获取示例时间管理场景列表

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 添加示例的事项安排

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 修改指定的语音设置

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 添加语音播音员

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 删除语音播音员

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 配置Dueros开发平台信息

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 配置天猫精灵服务平台信息

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

## 共用接口

### 获取指定时间内的事项安排

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 编辑指定的事项安排

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

## 终端侧接口

### 获取用户指定场景指定时间内的事项安排

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 推送新的事项安排到终端

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 语音添加一个事项安排

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 推送指定的语音播音员

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

### 推送语音设置

请求路径：

Path: GET /play/v1/{constellation_Id}/predict

请求路径参数：

# 数据结构设计

## 用户表 - 统一身份认证服务

说明：该表设计来自统一身份认证服务。

表名：Satellite_Network

字段設計：

| 字段名      | 类型      | 含义                   | 备注 |
| ----------- | --------- | ---------------------- | ---- |
| OpenId      | String    |                        |      |
| Name        | String    |                        |      |
| Banding     | JSONArray | 绑定的其他平台来的账号 |      |
| Username    |           |                        |      |
| Password    |           |                        |      |
| Mail        |           |                        |      |
| PhoneNumber |           |                        |      |
|             |           |                        |      |
|             |           |                        |      |

## 场景分类表 - 目录服务

说明：用于对示例场景进行分类，比如学生场景有小学场景，中学场景，大学场景。可通过目录服务提供。

表名：Scene_Catalogue

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
| Id     |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

## 用户场景表

说明：每个用户可以创建多个时间管理场景，同时系统也会提供可供用户学习和导入的时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      | 须   |

## 用户计划表 - 计划服务

说明：用户创建的各类时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

## 事项任务表 - 计划服务

说明：用户创建的各类时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

## 任务执行表

## 用户终端表

说明：用户创建的各类时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      | 须   |

## 终端场景绑定表

说明：用户创建的各类时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

## 用户时间利用统计表

说明：用户创建的各类时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

## 新增用户统计表 - 统一身份认证服务

说明：用户创建的各类时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

## 新增终端统计表

说明：用户创建的各类时间安排。

表名：Satellite_Network

字段設計：

| 字段名 | 类型 | 含义 | 备注 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |
|        |      |      |      |

## 平台配置信息表 - 配置服务

说明：来自配置服务。

表名：Satellite_Network

字段設計：

| 字段名         | 类型         | 含义                 | 备注 |
| -------------- | ------------ | -------------------- | ---- |
| Open_Id        | Varchar2(18) | 系统为配置项分配的ID | 必须 |
| application_Id | Varchar2(18) | 系统为卫星分配的编号 | 必须 |
|                |              |                      |      |
|                |              |                      |      |
|                |              |                      |      |

表内容设计：

| 行内容 | 配置参数名 | 配置参数值 | 备注 |
| ------ | ---------- | ---------- | ---- |
|        |            |            |      |
|        |            |            |      |
|        |            |            |      |
|        |            |            |      |
|        |            |            |      |

# 算法与规则

## 达人等级算法

达人分为三类，用户级，教练级，领袖级

每一级又分为多个等级，比如用户级可按照玄幻小说中的法力等级分级。

教练级

//领袖

# 关键流程

# 所需外部服务接口

## 目录服务

说明：使用目录服务来存储示例场景类型。

## 配置服务

## 日程计划服务

说明：调用日历服务存储和访问日历事项。

所需接口：

- 创建一个日程计划

  触发时机：创建卫星信息时可通道导入卫星瞬时轨道服务中的卫星列表。

## 点评服务

## 统一身份认证服务

## 微信小程序开放平台

## Dueros开发平台配置信息

## 天猫精灵服务平台配置信息

## 语音语义分析平台

# 附录：系列终端

## 手表

主要通过手表的语音方式进行操作。并接收日程提示。

终端主要功能：

- 同步小程序任务
- 语音临时任务设置：比如：明天下午三点去成都东站接武当山掌门人
- 到时震动和文字提醒
- 进入手表应用滚动所有查看日程安排(根据场景/可切换场景)

## 壁挂型

有可充电和不可充电两款，有语音提示/无语音提示的组合款。该型闹钟可以粘贴在油烟机/墙壁等固定位置。

- 外观：半球弧面，具有M分钟，S秒，（设置）ST/SP开始和结束，上下选择按键以及语音输入口和响铃。
- 使用场景：厨房做饭
- 使用方法：
  - 手动设置到时提醒：按下设置按钮，先按下分钟按钮或秒按钮，再按上下选择以设置倒计时时间。完成时间设置后，或等待15秒或再次按下设置按钮，到计时设置生效。。
  - 语音设置到时提醒：按下设置按键，对着闹钟说话，闹钟会自动识别时间设置要求，如果不能识别会提示听不懂，停止说话后15秒内可以再次对闹钟说话，超过30秒，必须重新按下设置按钮才能重新与时钟对话。设置完成后，提示设置成功，15秒内可重复设置。
  - 修改事项的到点时间：点击设置按钮，再按上下选项，屏幕会出现当前事项，再按上下按钮进行选择，选择后通过语音进行修改。

## 桌面型

有可充电和不可充电两款，有语音提示/无语音提示的组合款。该型闹钟放在桌面随时移动。

- 外部：正方形或长方形，具有M分钟，S秒，（设置）ST/SP开始和结束，上下选择按键以及语音输入口和响铃。

- 使用场景：学生学习计时以及职员事项安排

- 使用方法：

  - 手动设置到时提醒：按下设置按钮，再按下分钟按钮或秒按钮，按上下选择以设置倒计时时间。完成时间设置后，或等待15秒或再次按下设置按钮，到计时设置生效。。

  - 语音设置到时提醒：按下设置按键，对着闹钟说话，闹钟会自动识别时间设置要求，如果不能识别会提示听不懂，停止说话后15秒内可以再次对闹钟说话，超过30秒，必须重新按下设置按钮才能重新与时钟对话。设置完成后，提示设置成功，15秒内可重复设置。

  - 时钟的每个面有个默认响铃时刻，为5分钟到1小时。当时钟某一面向上时，直接点击设置按钮，则启动一个默认的以该正面上顶部面时间为倒计时的闹铃设置。该设置不计入日程。

    

# 附录：按键说明

M分钟，S秒，滚动键均为设置键。ST/SP为开始执行和暂停/停止执行键。

当点击设置键时，将会进行设置模式，再次点击M为增加计时分钟数，点击S为增加计时秒钟数。滚动键与M分钟，S秒键互为确定键。选定M和S键后，点击滚动键则是定义了一个倒计时时刻。2秒内两次点击滚动键则取消刚才设置的倒计时时刻。

ST/SP为开始计时按键，如果超时了，不会自动停止，需要再次按ST/SP才会停止。如果超时后，会将对应任务设置为超时完成。

# 附录：语音操作示例

1. 示例1：明天下午三点去成都东站接媳妇

   语义拆分：**明天** /**下午/三点**/去/成都东站/接/媳妇

2. 示例2：数学练习5分钟

   语义拆分：数学/练习**/5/分钟**

3. 示例3：半小时后提醒起锅

   语义拆分：**半/小时**/后/提醒/起锅

# 附录：本软件设计时间管理

需求梳理时间：2020-08-08上午~08-09上午

产品概要设计时间：2020-08-09~